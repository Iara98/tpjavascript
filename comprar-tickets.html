<!DOCTYPE html>
<html lang="es">

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CODO A CODO</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/estilos.css">
</head>

<body>

    <!--Menu-->

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">

        <div class="container">

            <a href="#" class="navbar-brand"> <span class="text-heading">Conf Bs As</span></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="navbarS"
                aria-controls="navbarS" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarS">

                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">

                    <li class="nav-item">
                        <a href="index.html" class="nav-link">La conferencia</a>
                    </li>

                    <li class="nav-item">
                        <a href="index.html" class="nav-link">Los oradores</a>
                    </li>

                    <li class="nav-item">
                        <a href="index.html" class="nav-link">El lugar y la fecha</a>
                    </li>

                    <li class="nav-item">
                        <a href="index.html" class="nav-link">Convierte en orador</a>
                    </li>

                    <li class="nav-item">
                        <a href="comprar-tickets.html" class="nav-link text-success">Comprar tickets</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!--Descuentos-->

    <section id="descuentos" class="container mt-5">

        <div class="row" style="margin-top: 100px;">
            <div class="card col-lg-2 center" style="margin-left: 220px; margin-right: 50px;">
                <div class="card-body">
                    <h4 class="card-title">Estudiante</h4>
                    <p class="card-text fw-bolder">Tiene descuento</p>
                    <h4 class="card-title font-weight-bold">80%</h4>
                    <h6 class="card-title font-weight-bold fw-lighter">* presentar documentacion</h6>
                </div>
            </div>

            <div class="card col-lg-2 center" style="margin-right: 50px;">
                <div class="card-body">
                    <h4 class="card-title">Trainee</h4>
                    <p class="card-text fw-bolder">Tiene descuento</p>
                    <h4 class="card-title font-weight-bold">50%</h4>
                    <h6 class="card-title font-weight-bold fw-lighter">* presentar documentacion</h6>
                </div>
            </div>

            <div class="card col-lg-2 center" style="margin-right: 50px;">
                <div class="card-body">
                    <h4 class="card-title">Junior</h4>
                    <p class="card-text fw-bolder">Tiene descuento</p>
                    <h4 class="card-title font-weight-bold">15%</h4>
                    <h6 class="card-title font-weight-bold fw-lighter">* presentar documentacion</h6>
                </div>
            </div>
        </div>

    </section>
    

    <!--Formulario-->
    <div class="container" id="contenedor-formulario">

        <div id="titul-formulario" class="text-center mb-4">
            <h6>VENTA</h6>
            <h5>VALOR DEL TICKET $200</h5>

        </div>

        <form class="row g-3" id="formulario1">

            <div class="col-md-6">
                <input type="nombre" name='nombre' class="form-control" id="nombre" placeholder="Nombre"
                    required></input>

                <div id="mensaje-error-nombre" style="display: none;">
                    <p class="text-danger">Por favor, completa el campo nombre.</p>
                </div>
            </div>

            <div class="col-md-6">
                <input type="apellido" name='apellido' class="form-control" id="apellido" placeholder="Apellido"
                    required></input>

                <div id="mensaje-error-apellido" style="display: none;">
                    <p class="text-danger">Por favor, completa el campo apellido.</p>
                </div>
            </div>

            <div class="mb-3">
                <input type="correo" class="form-control" name='correo' id="correo" placeholder="Correo"
                    required></input>

                <div id="mensaje-error-correo" style="display: none;">
                    <p class="text-danger">Por favor, completa el campo correo.</p>
                </div>
            </div>

            <div class="col-sm-7">
                <input class="form-control" id="cant_entradas" name='cantidad' placeholder="Cantidad" required></input>
                <div id="mensaje-error-cantidad" style="display: none;">
                    <p class="text-danger">Por favor, completa el campo Cantidad.</p>
                </div>
            </div>

            <div class="col-sm">
                <select id="categorias" class="form-control" id="floatingSelect"
                    aria-label="Floating label select example" required>
                    <option selected>Opciones de categorias</option>
                    <option value="1">Estudiante</option>
                    <option value="2">Trainee</option>
                    <option value="3">Junior</option>
                </select>

                <div id="mensaje-error-categoria" style="display: none;">
                    <p class="text-danger">Por favor, selecciona una categoría.</p>
                </div>

            </div>


            <div class=" center mb-3 col-xs-6">
                <button type="botonValidar" onclick="validar(event)" class="btn btn-success w-60 fs-5">Validar</button>

                <script>
                    function validar(event) {
                        event.preventDefault(); // Evita la recarga de la página

                        var nombre = document.getElementById('nombre').value;
                        var apellido = document.getElementById('apellido').value;
                        var correo = document.getElementById('correo').value;
                        var cantidad = document.getElementById('cant_entradas').value;
                        var categoria = document.getElementById("categorias").value;


                        var mensajeErrorNombre = document.getElementById('mensaje-error-nombre');
                        var mensajeErrorApellido = document.getElementById('mensaje-error-apellido');
                        var mensajeErrorCorreo = document.getElementById('mensaje-error-correo');
                        var mensajeErrorCantidad = document.getElementById('mensaje-error-cantidad');
                        var mensajeErrorCategoria = document.getElementById('mensaje-error-categoria');

                        mensajeErrorNombre.style.display = "none";
                        mensajeErrorApellido.style.display = "none";
                        mensajeErrorCorreo.style.display = "none";
                        mensajeErrorCantidad.style.display = "none";
                        mensajeErrorCategoria.style.display = "none";

                        var hayErrores = false;

                        if (nombre === "") {
                            mensajeErrorNombre.style.display = "block";
                            hayErrores = true;
                        }
                        if (apellido === "") {
                            mensajeErrorApellido.style.display = "block";
                            hayErrores = true;
                        }
                        if (correo === "") {
                            mensajeErrorCorreo.style.display = "block";
                            hayErrores = true;
                        }
                        if (cantidad === "") {
                            mensajeErrorCantidad.style.display = "block";
                            hayErrores = true;
                        }
                        if (categoria === "Opciones de categorias") {
                            mensajeErrorCategoria.style.display = "block";
                            hayErrores = true;
                        }

                    }
                </script>

                <button type="button" onclick="generarResumen()" class="btn btn-success w-60 fs-5">Resumen</button>


                <table class="table-responsive w-100" id="resumenTable" style="display: none;">
                    <tr>
                        <th>Nombre</th>
                        <th>Apellido</th>
                        <th>Correo</th>
                        <th>Categoría</th>
                        <th>Cantidad de Entradas</th>
                        <th>Monto a Pagar</th>
                    </tr>
                    <tbody id="resumenBody"></tbody>
                </table>

                <script>
                    function generarResumen() {
                        // Obtener los valores del formulario
                        var nombre = document.getElementById("nombre").value;
                        var apellido = document.getElementById("apellido").value;
                        var correo = document.getElementById("correo").value;
                        var categoria = parseInt(document.getElementById("categorias").value);
                        var cant_entradas = parseInt(document.getElementById("cant_entradas").value);


                        // Calcular el monto a pagar según la categoría
                        var valorEntrada = 200;
                        var montoPagar;
                        switch (categoria) {
                            case 1:
                                montoPagar = valorEntrada * 0.80;
                                break;
                            case 2:
                                montoPagar = valorEntrada * 0.50;
                                break;
                            case 3:
                                montoPagar = valorEntrada * 0.15;
                                break;
                            default:
                                montoPagar = valorEntrada;
                        }

                        // Calcular el total a pagar
                        var totalPagar = montoPagar * cant_entradas;

                        // Crear una nueva fila en la tabla de resumen
                        var resumenTable = document.getElementById("resumenTable");
                        var resumenBody = document.getElementById("resumenBody");
                        var newRow = resumenBody.insertRow();
                        var cell1 = newRow.insertCell(0);
                        var cell2 = newRow.insertCell(1);
                        var cell3 = newRow.insertCell(2);
                        var cell4 = newRow.insertCell(3);
                        var cell5 = newRow.insertCell(4);
                        var cell6 = newRow.insertCell(5);
                        cell1.innerHTML = nombre;
                        cell2.innerHTML = apellido;
                        cell3.innerHTML = correo;
                        cell4.innerHTML = categoria;
                        cell5.innerHTML = cant_entradas;
                        cell6.innerHTML = "$" + totalPagar;

                        // Mostrar la tabla de resumen
                        resumenTable.style.display = "table";
                    }
                </script>
            </div>


            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
            <script src="script.js"></script>


        </form>

    </div>

    <footer class="footer py-3 my-4 container-fluid">
        <ul class="nav justify-content-center border-bottom pb-3 mb-3">
            <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">Preguntas frecuentes</a></li>
            <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">Contactanos</a></li>
            <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">Prensa</a></li>
            <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">Conferencia</a></li>
            <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">Terminos y condiciones</a></li>
            <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">Privacidad</a></li>
            <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">Estudiantes</a></li>
        </ul>
    </footer>

</body>

<!-- Optional JavaScript; choose one of the two! -->

<!-- Option 1: Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>

</html>